TARGETNAME=disk_spoofer
TARGETTYPE=DRIVER

KMDF_VERSION_MAJOR=1
KMDF_VERSION_MINOR=15

SOURCES=disk_spoofer.c

TARGETLIBS=$(DDK_LIB_PATH)\ntoskrnl.lib

# Set entry point for kdmapper compatibility
DRIVERENTRY=DriverEntry

# Disable buffer security checks for kdmapper compatibility
BUFFER_OVERFLOW_CHECKS=0

# Set optimization for release
MSC_OPTIMIZATION=/O2

# Include paths
INCLUDES=$(DDK_INC_PATH)

# Preprocessor definitions
C_DEFINES=-DPOOL_NX_OPTIN=1 -D_WIN64

# Warning level
MSC_WARNING_LEVEL=/W3

# Disable specific warnings
MSC_WARNING_LEVEL=/W3 /wd4100 /wd4201 /wd4214

# Set subsystem version
SUBSYSTEM_VERSION=6.0